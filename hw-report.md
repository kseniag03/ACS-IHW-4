#  ИДЗ №4 #
## Markdown report <br> ##

### 1. Ганина Ксения Андреевна (тг для вопросов: @kgnn47) <br> ###
### 2. БПИ212 <br> ###
### 3. Вариант-25 <br> ###

![image](https://user-images.githubusercontent.com/114473740/206900139-ecd4bc8e-c9e7-43e7-b7ea-c45c612c7d83.png) <br>
________________________

### 4. Используемая модель вычислений. Источники информации, в которых описана данная модель. <br> ###

Либо по одной булавке, либо через ящики, в которых буферизируется конечное кол-во булавок -- варианты альтернативных решений.

Производители и потребители – это парадигма взаимодействующих неравноправных потоков. <br>
Одни потоки «производят» данные, другие их «потребляют». <br>
Часто такие потоки организуются в конвейер, через который проходит информация. <br>
Каждый поток конвейера потребляет выход своего предшественника и производит входные данные для своего последователя. <br>
Другой распространенный способ организации потоков – древовидная структура или сети слияния, на этом основан, в частности, метод дихотомии. <br>
 <br>
Производители и потребители <br>
Парадигма взаимодействующих неравноправных потоков. Одни из потоков «производят» данные, другие их «потребляют». Часто такие потоки организуются в конвейер, через который проходит информация. Каждый поток конвейера потребляет выход своего предшественника и производит входные данные для своего последователя. Другой распространенный способ организации потоков – древовидная структура или сети слияния, на этом основан, в частности, принцип дихотомии. <br>

 <br>

Задача о кольцевом буфере <br>
Потоки производители и потребители разделяют кольцевой буфер, состоящий из N ячеек. Производители передают сообщение потребителям, помещая его в конец очереди буфера. Потребители сообщение извлекают из начала очереди буфера. Создать многопоточное приложение с потоками писателями и читателями. Предотвратить такие ситуации как, изъятие сообщения из пустой очереди или помещение сообщения в полный буфер.
При решении задачи использовать семафоры. <br>

Задача о кольцевом буфере
Обсуждение. Пусть буфер – это целочисленный массив из N элементов. В задаче 2 критических секции. Первая связана с операциями чтения-записи нескольких потоков в общий буфер.
Вторая критическая секция определяется тем, что буфер являются конечным.
Запись должна производиться только в те ячейки, которые являются свободными или уже прочитаны потоками-читателями (условная взаимная синхронизация).

Для защиты первой критической секции воспользуемся двумя мьютексами.
Первый сделает возможным запись в буфер только для одного потока-писателя.
Второй сделает возможным чтение из буфера только для одного потока-читателя.
Операция чтения должна быть защищена, т. к. она осущствляет запись данных об освобождении ячейки. Иначе операция записи может стать невозможной или некорректной из-за переполнения буфера. Чтение и запись могут проходить параллельно, т.к.всегда используют разные ячейки.

Для условной синхронизации используем 2 семафора. Первый показывает, сколько ячеек в буфере свободно. Ячейка свободна, когда в нее еще не осуществлялась запись или она была прочитана.
Второй семафор показывает, сколько ячеек в буфере занято. Запись не может быть выполнена, пока число занятых ячеек = N (или число свободных ячеек = 0). Операция чтения не может быть выполнена, пока число свободных ячеек = N (или число занятых ячеек = 0).
Для блокировки воспользуемся условиями, заключенными в скобки, исходя из особенностей поведения семафоров.


Источник: [Задача о кольцевом буфере](https://edu.hse.ru/pluginfile.php/1867463/mod_resource/content/3/08-Multitreading.pdf)

 <br>
________________________

### 5. Описание работы с данными программы. <br> ###

Формат ввода данных <br>
argc -- число аргументов в функции (если > 1, значит, передали аргументы) <br>
argv -- массив с аргументами, где: <br>
argv[0] -- имя исполняемого файла <br>
argv[1] -- формат ввода (1 -- console, 2 -- file, else -- random generation) <br>
argv[2] -- имя входного файла (если не задан, то по умолчанию input.txt) <br>
argv[3] -- имя выходного файла (если не задан, то по умолчанию output.txt) <br>
Ответ на задание выводится в консоль и в выходной файл <br>
 <br>
________________________

### 6. Исходные тексты программы на языке C. <br> ###

Можно также посмотреть здесь: []() <br>

main.c -- основная функция
```c


```
<br>
________________________

### 7. Информация, подтверждающая выполнение задания в соответствие требованиям на предполагаемую оценку. <br> ###
<br>

Критерий на 4. <br>
1. Приведено условие задачи
2. Описана используемая модель параллельных вычислений
3. Описаны входные данные программы
4. Реализовано консольное приложение, решающее поставленную задачу с использованием одного варианта синхропримитивов
5. Ввод данных в приложение реализован с консоли

Критерий на 5. <br>
1. В программу добавлены комментарии, поясняющие выполняемые действия и описание используемых переменных
2. В отчете приведен сценарий описания одновременного поведения сущностей (уточнить)
(То есть, описано поведение объектов разрабатываемой программы как взаимодействующих субъектов, а не то, как это будет реализовано в программе)

Критерий на 6. <br>
1. Описан алгоритм реализации программы (в котором показано, как на программу отображается каждый из субъектов предметной области)
2. Реализован ввод данных из командной строки

Критерий на 7. <br>
1. Реализован ввод и вывод данных через файлы
2. Приведены входные и выходные файлы с различными результатами выполнения программы (папка с тестами-результатами)
3. Результаты выводятся на экран и записываются в файл
4. В ввод данных из командной строки добавлена возможность указать имена входного и выходного файлов (с учётом значений по умолчанию)

Критерий на 8. <br>
1. Добавлена генерация случайных данных в допустимых диапазонах
2. Приведены входные и выходные файлы с различными результатами выполнения программы (папка с тестами-результатами)
3. В ввод данных из командной строки добавлена возможность выбрать опцию с генерацией

Критерий на 9 (Вариант-1). <br>
1. Проведено исследование поведения программы при отключении (каких?) синхропримитивов
2. Приведены варианты данных, демонстрирующие некорректное поведение
3. Описаны ситуации, ведущие к конфликтам при различных вариантах отключения

Критерий на 10 (Вариант-1). <br>
1. Разработано альтернативное решение, построенное на других (каких?) синхропримитивах
2. Приведен сравнительный анализ поведения с ранее разработанной программой


